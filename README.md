# 华工羽毛球场定场脚本(限华工校园网内使用)
脚本具有两个功能，查询场地(query)，以及预订场地(book)

在使用之前需要在config.json 中配置用户名称以及用户密码，如:

    {
        "loginMode": "1",
        "loginName": "201674266460",
        "password": "1314520"
    }


## 依赖
* python 2.7
* requests 2.9.1
* bs4 4.3.2

## 查询场地信息
场地查询默认的地点以及时间段是西区体育场下午，查询时间段是当天以及后面的10天的空闲场次的信息

    python login.py query

可以使用的参数如下：
|参数|含义|
|---|---|
|-t, --today| 只查询当天场地情况|
|-d, --date| 指定查询、预订日期, 默认值为当天的日期|
|-p, --place| 指定查询的时间段以及地点,可选值为：{0,1,2,3}|
|-r, --range | 指定查询区间(0-31)，默认是本月的日期,eg: -r 4 8， 查询2016-12-04 到 2016-12-08 各天的空闲时间段|
|-l, --length| 指定查询天数，默认是10天|
|-f, --floorid| 在预订场地时，指定场地编号，如 1 代表1号场，2代表2号场等等|
|-y, --ydtime| 在预订场地时， 指定预订时间段|


* p, place 参数
|参数值|含义|
|---|---|
|0|西区体育场下午(默认值)|
|1|海丽文体中心下午|
|2|西区体育场早上|
|3|海丽文体中心早上|

* y, ydtime 参数
|参数值| 含义|
|---|---|
|8|08:00--09:00|
|9||09:00--10:00|
|10|10:00--11:00|
|11|11:00--12:00|
|12|12:00--13:00|
|13|13:00--14:00|
|14|14:00--15:00|
|15|15:00--16:00|
|16|16:00--18:00|
|18|18:00--20:00|
|20|20:00--22:00|

eg:
* python login.py query 
	查询包含当天在内 10天西区体育场场地情况
* python login.py query -d 2016-12-20
	查询2016-12-20西区体育场下午的场地情况
* python login.py query -d 2016-12-20 -p 1
	查询2016-12-20海丽文体中心下午的场地情况
* python login.py query -t
	查询当天的场地情况
* python login.py query -r 9 20
	查询从2016-12-9 至 2016-12-20 号场地的情况
* python login.py query -l 7 
	查询包括当天在内之后 7 天的场地情况

## 预订场地
场地预订需要使用-d指定日期，-f 指定场地编号， -y 指定预订时间， 这三个参数必须同时指定

	python login.py book -d 2016-12-20 -y 16 -f 1

该指令的指定预订西区体育场2016-12-20下午16：00 - 18：00 1号场地
